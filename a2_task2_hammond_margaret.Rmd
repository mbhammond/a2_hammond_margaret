---
title: "beepboop2"
author: 'Margaret Hammond'
output: 
  html_document:
    theme: flatly
    code_folding: hide
---

```{r setup, include=FALSE, message = FALSE, warning = FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(here)
library(purrr)
library(minpack.lm)
library(broom)
library(patchwork)
library(kableExtra)
library(janitor)
```

## 1. Overview
In this task, I will be using non linear least squares to estimate parameters of a length to weight model for lizard populations in New Mexico. 
PUT OVERVIEW HERE

## Explore the Data

### 2.1 Read in the data
```{r}
lizards <- read_csv(here("data", "lizard.csv")) %>% 
  mutate(log_length = log(SV_length), # use log() to linearize the model
         log_weight = log(weight))
```
## Set up the model

Must set up the model to be able to make guesses for coefficients a and b. Take the data and create a linear model in order for OLS regression to occur.


$$
W = a(SVL)^b
$$
In this model, W is weight, and SVL is snout to vent length.


```{r}
lizards_model <- function(a, SVL, b) {
  W = a*SVL^b
  return(W)
}
```



```{r}
parameter_guess <- lm(log_weight ~ log_length, data = lizards) # Created for OLS

lizards_coef <- coef(parameter_guess) %>% 
  exp() # convert coefficients out of log form

lizards_coef
```


## Functions

The following functions are used in the analysis:

1) The model the data is being fitted to.
2) An RMSE calculation function **ALL THIS MUST BE CHANGED CUZ I PLAGERIZED**

```{r}

lizards_nls <- nls(weight ~ lizards_mdl(a, SV_length, b),
                   data = lizards,
                   start = list(
                     a = 2.718^(lizards_coef[1]/lizards_coef[2]),
                     b = lizards_coef[2]),
                   trace = TRUE)
```





